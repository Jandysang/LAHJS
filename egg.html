<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
	<title>蛋的页面</title>
	<link rel="stylesheet" type="text/css" href="css/egg.css"/>
</head>
<body>
	<canvas id="eggCanvas"></canvas>
	<canvas id="imgPart1" width="120" height="170"></canvas>
	<canvas id="imgPart2" width="120" height="170"></canvas>
	<canvas id="imgPart3" width="120" height="170"></canvas>
	<canvas id="imgPart4" width="120" height="170"></canvas>
	<canvas id="imgPart5" width="120" height="170"></canvas>
	<canvas id="imgPart6" width="120" height="170"></canvas>
	<script type="text/javascript">
	var Resource={
		"p1":{name:"第一步",url:"img/p1.png"},
		"p2":{name:"第二步",url:"img/p2.png"},
		"p3":{name:"第三步",url:"img/p3.png"},
		"p4":{name:"第四步",url:"img/p4.png"},
		"p5":{name:"第五步",url:"img/p5.png"},
		"p6":{name:"第六步",url:"img/p6.png"}
	},cont=0,_cont=0,IMG;
	var ecan=document.getElementById('eggCanvas');
			var ectx=ecan.getContext('2d');
			var can1=document.getElementById("imgPart1");
			var ectx1=can1.getContext('2d');
			var can2=document.getElementById("imgPart2");
			var ectx2=can2.getContext('2d');
			var can3=document.getElementById("imgPart3");
			var ectx3=can3.getContext('2d');
			var can4=document.getElementById("imgPart4");
			var ectx4=can4.getContext('2d');
			var can5=document.getElementById("imgPart5");
			var ectx5=can5.getContext('2d');
			var can6=document.getElementById("imgPart6");
			var ectx6=can6.getContext('2d');
			var img1=new Image(),img2=new Image(),img3=new Image(),img4=new Image(),img5=new Image(),img6=new Image();
		window.onload=function () {
			
			ecan.width=120;
			ecan.height=170;
			img1.src="img/p1.png";
			img1.onload=function(){
				ectx.drawImage(img1,0,0);
				ectx1.drawImage(img1,0,0);
			};
			img2.src="img/p2.png";
			img2.onload=function(){
				ectx2.drawImage(img2,0,0);
			};
			img3.src="img/p3.png";
			img3.onload=function(){
				ectx3.drawImage(img3,0,0);
			};
			img4.src="img/p4.png";
			img4.onload=function(){
				ectx4.drawImage(img4,0,0);
			};
			img5.src="img/p5.png";
			img5.onload=function(){
				ectx5.drawImage(img5,0,0);
			};
			img6.src="img/p6.png";
			img6.onload=function(){
				ectx6.drawImage(img6,0,0);
			};
			setInterval(function(){
				render(ectx);
				update();
			},50);
		}
		function render(ctx){
			ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);

			switch(cont){
				case 0:
					//IMG=ectx1.getImageData(0,0,120,170);
					IMG=can1;//.getImageData(0,0,120,170);
					break;
				case 1:
					IMG=can2;//.getImageData(0,0,120,170);
					break;
				case 2:
					IMG=can3;//.getImageData(0,0,120,170);
					break;
				case 3:
					IMG=can4;//.getImageData(0,0,120,170);
					break;
				case 4:
					IMG=can5;//.getImageData(0,0,120,170);
					break;
				case 5:
					IMG=can6;//.getImageData(0,0,120,170);
					break;
				default:
					IMG=can1;//.getImageData(0,0,120,170);
					break;
			}
			if(!IMG) IMG=can1;
			ctx.drawImage(IMG,0,0,120,170);
		};
		function update(){
			if(_cont>=12){
				console.log(cont)
				cont=(cont+1)>5?0:cont+1;
				_cont=0;
			}
			_cont++;
		};
	</script>
</body>
</html>